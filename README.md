# cloud_shopping_system

1. python AWS flask online shopping system <br/>

2. AWS techniques: <br/>
•	Lambda (Serverless)<br/>
•	S3 Buckets<br/>
•   DynamoDB<br/>
•	EC2 Instances<br/>
•	Dynamic load balancing<br/>
•	Cloud Watch<br/>


3.	General Architecture <br/>

3.1	Browser: <br/>
This web application is developed and tested using Mozilla Firefox web browser. The web browser in this architecture serves as the graphical user interface to general users and as the client to the Flask web development server. The main functionality of the web browser is to collect information from users in the format of forms and to display the transformed pictures as well as any additional information such as errors and warnings from the backend Flask web server to the users in a user-friendly environment. The HTTP post and put request methods will be issued by the web browsers to push collected information to the Flask web server and to retrieve information from it.

3.2	Flask Web Server: <br/> 
The web server used for this web application is named Flask. Flask is a micro web framework written in Python which based on Werkzeug toolkit and Jinha2 template engine. The Flask web server in this architecture plays the backend web server role to process the HTTP request from the web browser and the client role to send requests to the DynamoDB database and the Amazon S3 for storing user and product data.


3.2.1	Structure breakdown

3.2.1.1	HTML and CSS<br/>
All html files are stored under the /app/templates directory and the CSS stylesheet for each HTML page is stored under the /app/static/css directory. The CSS style sheet will be called when the corresponding html page is being rendered to the client.  
The HTML and CSS sheet are programmed based on Bootstrap framework to take the advantage of its responsive grid system and extensive prebuilt components. This approach allows the application to readjust its components based on user’s device and therefore provides the best browsing experience across all platform. 

3.2.1.2	JavaScripts<br/>
The JavaScript files stored under /app/static/js are used to perform changePassword and validateForm functions.

3.2.1.3	Python files<br/>
All python files which define the backend logic and to initiate the web server will be stored under the /app directory.  

3.2.2.2 Salt (Cryptography)<br/>
To store the hash of the password concatenated with a per-user salt value, hashlib module is imported to Flask in is_valid, changePassword and register functions. The hashed password will be generated and saved to the backend DynamoDB database once a user finished creating his or her user account through signup form. When user enters his or her password through login page, a new hashed password will be generated by calling hashlib.sha512() function and this new generated password will be used to compare with the hashed password saved in the DynamoDB database. User can access his or her personal account only when the comparison result is true.  

3.3	DynamoDB<br/>
DynamoDB database in this architecture is used to store the information submitted by users during the signup phase, the information of products submitted by the administrator during the add item phase and the products each user added to their cart during the sign in session. Categories of each products is also stored in a separate table in the Dynamo DB to allow customers shopping items by category.

3.4	Amazon S3<br/>
Amazon S3 in this architecture is used to store all the codes submitted by Zappa.  In Amazon S3 console, there are two instances of S3. One instance is used to store the pictures uploaded by the administrator during the add item phase. The other instance is the S3 bucket defined in the Zappa setting file and will be used as the archive of the flask code for Zappa deployment.


3.5	Manager UI<br/>
The manager UI in this architecture serves as the backend of the online shopping system application. Administrator could perform tasks such as create new products, remove products and products restock. Administrator also has the option to view the status of the S3 instance named ece1779_a3_bucket which is used to store the products’ pictures.

3.6	Lambda/Zappa  - Serverless Python<br/>
Zappa has been used in the architecture to deploy Amazon AWS Lambda function. The flask application will be implemented as a lambda function on Amazon AWS and the function will be only triggered when there is a web request from browsers in the user side. The lambda function also provides scaling capability when the request traffic becomes high. The list below is the features provides by Zappa:<br/>
•	Server with a 40-millisecond life cycle<br/>
•	The server is online 24/7 and only process request when there is a request comes in.<br/>
•	Each request is given its own virtual HTTP “server” by Amazon API Gateway<br/>
•	Amazon AWS handles the horizontal scaling<br/>
•	No requests ever time out<br/>
•	Only pay for the milliseconds of server time that user use<br/>
•	No need for load balancing or keep servers online ever again<br/>
•	Free SSL certificates, global app deployment, API access management, automatic security policy generation, precompiled C-extension, auto keep-warms and oversized lambda packages.<br/>
